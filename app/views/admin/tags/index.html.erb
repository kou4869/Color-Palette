<div class="admin-tag">
  <div class="container">
    <div class="row mt-3">

      <div class="col-12 col-md-4 offset-0 offset-md-1">
        <h4 class="mb-5"><strong>タグ一覧・追加・編集</strong></h4>
        <tadle class="table table-borderless">
          <%= form_with model: [:admin, @tag] do |tag| %>
            <tr>
              <p>
                <strong><%= tag.label :"タグ名" %></strong><br>
                <%= tag.text_field :tag_name, :placeholder => "タグ名" %>
              </p>
              <p>
                <%= tag.submit "新規登録", class: "btn btn-info" %>
              </p>
            </tr>
          <% end %>
        </tadle>
      </div>

      <!--↓ トップに戻る用のid-->
      <%= link_to posts_path do %>
        <span id="page_top"></span>
      <% end %>

      <div class="col-12 col-md-6">
        
        <span class="pl-3">
          <%= link_to '新着順', admin_tags_path(latest: "true") %>
          |<%= link_to '古い順', admin_tags_path(old: "true") %>
        </span>
        
        <table class="table text-secondary">
          <thead>
            <tr class="text-center">
              <th>タグ名</th>
              <th>投稿登録数</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <% @tags.each do |tag| %>
              <tr>
                <%= form_with model: [:admin, tag], method: :patch do |t| %>
                  <td class="text-center align-middle"><%= t.text_field :tag_name %></td>
                  <td align="center"><%= PostTag.where(tag_id: tag.id).count %></td>
                  <td>
                    <%= t.submit "変更を保存", class: 'btn btn-success' %>
                    <%= link_to "削除", admin_tag_path(tag), method: :delete, class: "btn btn-danger" %>
                  </td>
                <% end %>
              </tr>
            <% end %>
          </tbody>
        </table>

      </div>
      
      <%= paginate @tags %>

    </div>
  </div>
</div>
